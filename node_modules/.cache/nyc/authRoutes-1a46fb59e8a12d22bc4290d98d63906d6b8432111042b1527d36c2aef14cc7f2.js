function cov_18nrnjg9p4(){var path="C:\\Users\\40775\\Desktop\\OSF Project\\MyShop1\\routes\\authRoutes.js";var hash="41edab9a8807365c98a030a3f97b26c503ab4bb6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\40775\\Desktop\\OSF Project\\MyShop1\\routes\\authRoutes.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:15},end:{line:2,column:31}},"2":{start:{line:3,column:14},end:{line:3,column:35}},"3":{start:{line:6,column:0},end:{line:8,column:3}},"4":{start:{line:7,column:4},end:{line:7,column:40}},"5":{start:{line:10,column:0},end:{line:38,column:2}},"6":{start:{line:12,column:4},end:{line:37,column:5}},"7":{start:{line:13,column:21},end:{line:18,column:9}},"8":{start:{line:19,column:25},end:{line:25,column:10}},"9":{start:{line:26,column:28},end:{line:26,column:49}},"10":{start:{line:27,column:8},end:{line:27,column:46}},"11":{start:{line:29,column:8},end:{line:33,column:9}},"12":{start:{line:30,column:12},end:{line:30,column:51}},"13":{start:{line:32,column:12},end:{line:32,column:43}},"14":{start:{line:35,column:8},end:{line:35,column:24}},"15":{start:{line:36,column:8},end:{line:36,column:37}},"16":{start:{line:40,column:0},end:{line:42,column:3}},"17":{start:{line:41,column:4},end:{line:41,column:37}},"18":{start:{line:44,column:0},end:{line:70,column:2}},"19":{start:{line:45,column:4},end:{line:69,column:5}},"20":{start:{line:46,column:22},end:{line:50,column:9}},"21":{start:{line:51,column:25},end:{line:57,column:10}},"22":{start:{line:58,column:27},end:{line:58,column:48}},"23":{start:{line:59,column:8},end:{line:59,column:45}},"24":{start:{line:60,column:8},end:{line:66,column:9}},"25":{start:{line:61,column:12},end:{line:63,column:14}},"26":{start:{line:65,column:12},end:{line:65,column:43}},"27":{start:{line:68,column:8},end:{line:68,column:37}},"28":{start:{line:73,column:0},end:{line:73,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:22},end:{line:6,column:23}},loc:{start:{line:6,column:42},end:{line:8,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:23},end:{line:10,column:24}},loc:{start:{line:10,column:43},end:{line:38,column:1}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:40,column:21},end:{line:40,column:22}},loc:{start:{line:40,column:35},end:{line:42,column:1}},line:40},"3":{name:"(anonymous_3)",decl:{start:{line:44,column:23},end:{line:44,column:24}},loc:{start:{line:44,column:43},end:{line:70,column:1}},line:44}},branchMap:{"0":{loc:{start:{line:29,column:8},end:{line:33,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:33,column:9}},{start:{line:29,column:8},end:{line:33,column:9}}],line:29},"1":{loc:{start:{line:60,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:66,column:9}},{start:{line:60,column:8},end:{line:66,column:9}}],line:60}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"41edab9a8807365c98a030a3f97b26c503ab4bb6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_18nrnjg9p4=function(){return actualCoverage;};}return actualCoverage;}cov_18nrnjg9p4();const express=(cov_18nrnjg9p4().s[0]++,require('express'));const router=(cov_18nrnjg9p4().s[1]++,express.Router());const fetch=(cov_18nrnjg9p4().s[2]++,require('node-fetch'));cov_18nrnjg9p4().s[3]++;router.get('/signup',(req,res,next)=>{cov_18nrnjg9p4().f[0]++;cov_18nrnjg9p4().s[4]++;res.status('200').render('register');});cov_18nrnjg9p4().s[5]++;router.post('/signup',async(req,res)=>{cov_18nrnjg9p4().f[1]++;cov_18nrnjg9p4().s[6]++;try{const user=(cov_18nrnjg9p4().s[7]++,{"secretKey":process.env.SECRET_KEY,"name":req.body.name,"email":req.body.email,"password":req.body.password});const response=(cov_18nrnjg9p4().s[8]++,await fetch(`${process.env.API_URL}auth/signup`,{method:'POST',body:JSON.stringify(user),headers:{'Content-Type':'application/json'}}));const userCreated=(cov_18nrnjg9p4().s[9]++,await response.json());cov_18nrnjg9p4().s[10]++;res.cookie('token',userCreated.token);cov_18nrnjg9p4().s[11]++;if(userCreated.error){cov_18nrnjg9p4().b[0][0]++;cov_18nrnjg9p4().s[12]++;res.status('400').send('registerError');}else{cov_18nrnjg9p4().b[0][1]++;cov_18nrnjg9p4().s[13]++;res.status('200').redirect('/');}}catch(err){cov_18nrnjg9p4().s[14]++;console.log(err);cov_18nrnjg9p4().s[15]++;res.status('400').send('404');}});cov_18nrnjg9p4().s[16]++;router.get('/signin',(req,res)=>{cov_18nrnjg9p4().f[2]++;cov_18nrnjg9p4().s[17]++;res.status('200').render('login');});cov_18nrnjg9p4().s[18]++;router.post('/signin',async(req,res)=>{cov_18nrnjg9p4().f[3]++;cov_18nrnjg9p4().s[19]++;try{const login=(cov_18nrnjg9p4().s[20]++,{secretKey:process.env.SECRET_KEY,email:req.body.email,password:req.body.password});const response=(cov_18nrnjg9p4().s[21]++,await fetch(`${process.env.API_URL}/auth/signin`,{method:'post',body:JSON.stringify(login),headers:{'Content-Type':'application/json'}}));const loggedUser=(cov_18nrnjg9p4().s[22]++,await response.json());cov_18nrnjg9p4().s[23]++;res.cookie('token',loggedUser.token);cov_18nrnjg9p4().s[24]++;if(loggedUser.error){cov_18nrnjg9p4().b[1][0]++;cov_18nrnjg9p4().s[25]++;res.status('400').send('loginError',{loggedUser});}else{cov_18nrnjg9p4().b[1][1]++;cov_18nrnjg9p4().s[26]++;res.status('200').redirect('/');}}catch(err){cov_18nrnjg9p4().s[27]++;res.status('400').send('404');}});cov_18nrnjg9p4().s[28]++;module.exports=router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhSb3V0ZXMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJmZXRjaCIsImdldCIsInJlcSIsInJlcyIsIm5leHQiLCJzdGF0dXMiLCJyZW5kZXIiLCJwb3N0IiwidXNlciIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVRfS0VZIiwiYm9keSIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVzcG9uc2UiLCJBUElfVVJMIiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJ1c2VyQ3JlYXRlZCIsImpzb24iLCJjb29raWUiLCJ0b2tlbiIsImVycm9yIiwic2VuZCIsInJlZGlyZWN0IiwiZXJyIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwic2VjcmV0S2V5IiwibG9nZ2VkVXNlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI2MkdBZVk7MkZBZlosS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsTUFBTSwwQkFBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQUgsQ0FBWixDQUNBLEtBQU1DLENBQUFBLEtBQUssMEJBQUdILE9BQU8sQ0FBQyxZQUFELENBQVYsQ0FBWCxDLHdCQUdBQyxNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLENBQXNCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxJQUFYLEdBQW9CLGlEQUN0Q0QsR0FBRyxDQUFDRSxNQUFKLENBQVcsS0FBWCxFQUFrQkMsTUFBbEIsQ0FBeUIsVUFBekIsRUFDSCxDQUZELEUsd0JBSUFSLE1BQU0sQ0FBQ1MsSUFBUCxDQUFZLFNBQVosQ0FBdUIsTUFBT0wsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLGlEQUV2QyxHQUFJLENBQ0EsS0FBTUssQ0FBQUEsSUFBSSwwQkFBRyxDQUNULFlBQWFDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQURoQixDQUVULE9B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SixDQUFXLEtBQVgsRUFBa0JzQixJQUFsQixDQUF1QixLQUF2QixFQUNILENBQ0osQ0ExQkQsRSx5QkE2QkFRLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQnRDLE1BQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJyk7XHJcblxyXG5cclxucm91dGVyLmdldCgnL3NpZ251cCcsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgcmVzLnN0YXR1cygnMjAwJykucmVuZGVyKCdyZWdpc3RlcicpXHJcbn0pO1xyXG5cclxucm91dGVyLnBvc3QoJy9zaWdudXAnLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSB7XHJcbiAgICAgICAgICAgIFwic2VjcmV0S2V5XCI6IHByb2Nlc3MuZW52LlNFQ1JFVF9LRVksXHJcbiAgICAgICAgICAgIFwibmFtZVwiOiByZXEuYm9keS5uYW1lLFxyXG4gICAgICAgICAgICBcImVtYWlsXCI6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICAgICAgICBcInBhc3N3b3JkXCI6IHJlcS5ib2R5LnBhc3N3b3JkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuQVBJX1VSTH1hdXRoL3NpZ251cGAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXIpLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdXNlckNyZWF0ZWQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgICByZXMuY29va2llKCd0b2tlbicsIHVzZXJDcmVhdGVkLnRva2VuKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh1c2VyQ3JlYXRlZC5lcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKCc0MDAnKS5zZW5kKCdyZWdpc3RlckVycm9yJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKCcyMDAnKS5yZWRpcmVjdCgnLycpXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIHJlcy5zdGF0dXMoJzQwMCcpLnNlbmQoJzQwNCcpXHJcbiAgICB9XHJcbn0pXHJcblxyXG5yb3V0ZXIuZ2V0KCcvc2lnbmluJywocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoJzIwMCcpLnJlbmRlcignbG9naW4nKVxyXG59KTtcclxuXHJcbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGxvZ2luID0ge1xyXG4gICAgICAgICAgICBzZWNyZXRLZXk6IHByb2Nlc3MuZW52LlNFQ1JFVF9LRVksXHJcbiAgICAgICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuQVBJX1VSTH0vYXV0aC9zaWduaW5gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShsb2dpbiksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc3QgbG9nZ2VkVXNlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIHJlcy5jb29raWUoJ3Rva2VuJywgbG9nZ2VkVXNlci50b2tlbilcclxuICAgICAgICBpZiAobG9nZ2VkVXNlci5lcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKCc0MDAnKS5zZW5kKCdsb2dpbkVycm9yJywge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VkVXNlclxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoJzIwMCcpLnJlZGlyZWN0KCcvJylcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICByZXMuc3RhdHVzKCc0MDAnKS5zZW5kKCc0MDQnKVxyXG4gICAgfVxyXG59KVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcm91dGVyOyJdfQ==